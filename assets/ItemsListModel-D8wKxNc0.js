import{f as b,s as B,p as h,h as N,l as C,q as J,r as _,o as l,b as O,w as g,c,k as T,m as r,d as m,F as z,g as D,v as E,a,t as f,e as M,_ as U}from"./index-BIy07fvk.js";import{_ as $}from"./NumberTextBox.vue_vue_type_script_setup_true_lang-Db9iOJAd.js";const F={key:0,class:"text-center font-weight-bold",style:{"font-size":"x-large"}},j={key:1,class:"mt-4"},q={key:2,class:"div-container mt-10"},G=["id"],R={class:"position-relative"},A={key:0,class:"badge"},H={class:"ml-3 ml-sm-0 w-100"},K={style:{"font-size":"large"}},Q={class:"d-flex justify-end"},W=b({__name:"ItemsListModel",props:{modelValue:{}},emits:["update:modelValue"],setup(y,{emit:V}){const w=y,k=V,{ListItem:p}=B(h()),{setItem:v}=h(),u=N(w.modelValue),d=N(!1);C(()=>{setTimeout(()=>{d.value=!0},300)});function x(e){if(e.count===0){const s=JSON.parse(p.value).filter(i=>i.PNum!==e.PNum),n=JSON.stringify(s);v(n)}else{const t=JSON.parse(p.value),s=t.find(i=>i.PNum==e.PNum);s?s.count=e.count:t.push(e);const n=JSON.stringify(t);v(n)}}function I(){JSON.parse(p.value).forEach(t=>{const s=u.value.find(n=>n.PNum==t.PNum);s&&(s.count=t.count)})}I();function L(e){const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"end"})}return J(()=>u.value,e=>{k("update:modelValue",e)}),(e,t)=>{const s=_("v-autocomplete"),n=_("v-img"),i=_("v-label");return l(),O(E,{name:"fade-slide"},{default:g(()=>[d.value?(l(),c("div",F,[T(e.$slots,"title",{},void 0,!0)])):r("",!0),d.value?(l(),c("div",j,[m(s,{density:"compact",variant:"solo-filled",placeholder:"搜尋",items:u.value,"item-title":"productName","item-value":"PNum","onUpdate:modelValue":L},null,8,["items"])])):r("",!0),d.value?(l(),c("div",q,[(l(!0),c(z,null,D(u.value,(o,P)=>(l(),c("div",{class:"d-flex flex-sm-column",key:P,id:o.PNum},[a("div",R,[m(n,{width:e.$vuetify.display.xs?"80px":"",src:o.img},null,8,["width","src"]),o.count?(l(),c("div",A,f(o.count),1)):r("",!0)]),a("div",H,[m(i,{class:"d-block d-sm-inline",style:{"font-size":"larger"}},{default:g(()=>[M(f(o.productName),1)]),_:2},1024),a("div",null,[a("div",K,[t[0]||(t[0]=a("span",null,"售價: ",-1)),a("span",null,f(o.price)+"元",1)]),a("div",Q,[m($,{modelValue:o.count,"onUpdate:modelValue":[S=>o.count=S,()=>x(o)]},null,8,["modelValue","onUpdate:modelValue"])])])])],8,G))),128))])):r("",!0)]),_:3})}}}),Z=U(W,[["__scopeId","data-v-5db128c3"]]);export{Z as I};
