import{f as B,s as C,p as y,h as N,l as J,q as O,o as a,b as T,w as g,c as l,j as U,m as r,d as m,F as $,g as j,v as z,r as p,a as i,t as f,e as D,_ as E}from"./index-DZX2iA0F.js";const M={key:0,class:"text-center font-weight-bold",style:{"font-size":"x-large"}},F={key:1,class:"mt-4 d-sm-flex justify-sm-end"},q={key:2,class:"div-container mt-10"},A=["id"],G={class:"position-relative"},R={key:0,class:"badge"},H={class:"ml-3 ml-sm-0 w-100"},K={style:{"font-size":"large"}},Q=B({__name:"ItemsListModel",props:{modelValue:{}},emits:["update:modelValue"],setup(w,{emit:x}){const V=w,b=x,{ListItem:v}=C(y()),{setItem:_}=y(),u=N(V.modelValue),d=N(!1);J(()=>{setTimeout(()=>{d.value=!0},300)});function k(e){if(e.count===0){const s=JSON.parse(v.value).filter(c=>c.PNum!==e.PNum),n=JSON.stringify(s);_(n)}else{const t=JSON.parse(v.value),s=t.find(c=>c.PNum==e.PNum);s?s.count=e.count:t.push(e);const n=JSON.stringify(t);_(n)}}function I(){JSON.parse(v.value).forEach(t=>{const s=u.value.find(n=>n.PNum==t.PNum);s&&(s.count=t.count)})}I();function L(e){const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"end"})}return O(()=>u.value,e=>{b("update:modelValue",e)}),(e,t)=>{const s=p("v-autocomplete"),n=p("v-img"),c=p("v-label"),P=p("v-number-input");return a(),T(z,{name:"fade-slide"},{default:g(()=>[d.value?(a(),l("div",M,[U(e.$slots,"title",{},void 0,!0)])):r("",!0),d.value?(a(),l("div",F,[m(s,{"max-width":e.$vuetify.display.smAndUp?"200px":"",density:"compact",variant:"solo-filled",placeholder:"搜尋",items:u.value,"item-title":"productName","item-value":"PNum","onUpdate:modelValue":L},null,8,["max-width","items"])])):r("",!0),d.value?(a(),l("div",q,[(a(!0),l($,null,j(u.value,(o,S)=>(a(),l("div",{class:"d-flex flex-sm-column",key:S,id:o.PNum},[i("div",G,[m(n,{width:e.$vuetify.display.xs?"80px":"",src:o.img},null,8,["width","src"]),o.count?(a(),l("div",R,f(o.count),1)):r("",!0)]),i("div",H,[m(c,{class:"d-block d-sm-inline",style:{"font-size":"larger"}},{default:g(()=>[D(f(o.productName),1)]),_:2},1024),i("div",null,[i("div",K,[t[0]||(t[0]=i("span",null,"售價: ",-1)),i("span",null,f(o.price)+"元",1)]),m(P,{modelValue:o.count,"onUpdate:modelValue":[h=>o.count=h,h=>k(o)],min:0,max:99,class:"d-flex justify-end",density:"compact",variant:"outlined","control-variant":"split",inset:""},null,8,["modelValue","onUpdate:modelValue"])])])],8,A))),128))])):r("",!0)]),_:3})}}}),X=E(Q,[["__scopeId","data-v-16eb415f"]]);export{X as I};
